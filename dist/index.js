"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react/jsx-runtime"),t=require("react"),r=require("framer-motion"),n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};function o(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var i=function(){var e=t.useState({x:0,y:0}),r=e[0],n=e[1],o=t.useState(!1),i=o[0],u=o[1],a=t.useRef(null);return t.useEffect((function(){u(!0);var e=function(e){null===a.current&&(a.current=requestAnimationFrame((function(){n({x:e.clientX-15,y:e.clientY-15}),a.current=null})))};return window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e),null!==a.current&&cancelAnimationFrame(a.current)}}),[]),i?r:{x:0,y:0}},u={default:{width:24,height:24,scale:1,shape:"circle",color:"rgba(255, 255, 255, 0.8)",opacity:1,borderColor:"rgba(0, 0, 0, 0)",borderWidth:0,borderStyle:"solid",label:"",fontSize:"12px",fontWeight:"bold",labelColor:"#000",transition:{stiffness:300,damping:30,mass:1}}},a=t.createContext({cursorState:n(n({},u.default),{variant:"default"}),setCursorVariant:function(){},config:u,mousePosition:{x:0,y:0},resetCursorToDefault:function(){}}),s=function(){return t.useContext(a)},c=function(e){var r=e.variant,n=e.onEnter,o=e.onLeave,i=s(),u=i.setCursorVariant,a=i.resetCursorToDefault,c=t.useRef(null),l=t.useRef(!1);t.useEffect((function(){return function(){c.current&&clearTimeout(c.current)}}),[]);return{onMouseEnter:function(){c.current&&(clearTimeout(c.current),c.current=null),l.current=!0,u(r,"push"),null==n||n()},onMouseLeave:function(e){var t,r;l.current=!1;var n=e.relatedTarget;n&&((null===(t=n.hasAttribute)||void 0===t?void 0:t.call(n,"data-cursor-target"))||(null===(r=n.closest)||void 0===r?void 0:r.call(n,"[data-cursor-target]")))||u("","pop"),c.current=setTimeout((function(){l.current||a()}),0),null==o||o()},onFocus:function(){c.current&&(clearTimeout(c.current),c.current=null),l.current=!0,u(r,"push"),null==n||n()},onBlur:function(){l.current=!1,u("","pop"),c.current=setTimeout((function(){l.current||a()}),0),null==o||o()},"data-cursor-target":!0}};exports.Cursor=function(i){var u,a,c,l,d=i.size,f=void 0===d?24:d,m=i.zIndex,v=void 0===m?9999:m,p=i.showOnTouch,h=void 0!==p&&p,g=i.trailLength,y=void 0===g?10:g,x=s(),b=x.cursorState,C=x.mousePosition,E=t.useState(!1),S=E[0],w=E[1],T=t.useState(!1),P=T[0],j=T[1],M=t.useRef([]),A=r.useMotionValue(C.x),L=r.useMotionValue(C.y),R={damping:(null===(u=b.transition)||void 0===u?void 0:u.damping)||30,stiffness:(null===(a=b.transition)||void 0===a?void 0:a.stiffness)||300,mass:(null===(c=b.transition)||void 0===c?void 0:c.mass)||1},z=r.useSpring(A,R),W=r.useSpring(L,R);if(t.useEffect((function(){M.current=o([C],M.current.slice(0,y-1),!0),A.set(C.x),L.set(C.y)}),[C,A,L,y]),t.useEffect((function(){var e;e="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,j(e);var t=setTimeout((function(){w(!0)}),100);return function(){return clearTimeout(t)}}),[]),P&&!h)return null;return e.jsx(r.motion.div,{style:{position:"fixed",left:0,top:0,x:z,y:W,zIndex:v,pointerEvents:"none",opacity:S?1:0,willChange:"transform",mixBlendMode:b.mixBlendMode||"normal"},children:e.jsxs(r.motion.div,{style:{borderStyle:b.borderStyle||"solid",display:"flex",justifyContent:"center",alignItems:"center",transform:"translate(-50%, -50%)",willChange:"transform, width, height, background-color"},animate:{width:b.width||f,height:b.height||f,borderRadius:"circle"===b.shape?"50%":"square"===b.shape&&b.borderRadius||0,backgroundColor:"custom"===b.shape?"rgba(0, 0, 0, 0)":b.color||"rgba(255, 255, 255, 0.8)",opacity:b.opacity||1,borderColor:b.borderColor||"rgba(0, 0, 0, 0)",borderWidth:b.borderWidth||0,scale:void 0!==b.scale?b.scale:1},transition:n({type:"spring"},R),children:["custom"===b.shape&&b.customElement,e.jsx(r.AnimatePresence,{mode:"wait",children:b.label&&e.jsx(r.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},style:{fontSize:b.fontSize||"12px",fontWeight:b.fontWeight||"bold",color:b.labelColor||"#000",textAlign:"center",userSelect:"none",whiteSpace:"nowrap"},children:b.label},"string"==typeof b.label?b.label:"label")}),null===(l=b.innerElements)||void 0===l?void 0:l.map((function(t,n){var o=t.transition||{stiffness:100,damping:15,mass:3},i=M.current[Math.min(n+1,M.current.length-1)]||C,u=i?C.x-i.x:0,a=i?C.y-i.y:0;return e.jsx(r.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,x:.5*-u,y:.5*-a},style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},transition:{type:"spring",damping:o.damping||15,stiffness:o.stiffness||100,mass:o.mass||3},children:t.element},"inner-".concat(n))}))]})})},exports.CursorProvider=function(r){var s,c=r.children,l=r.config,d=void 0===l?u:l,f=r.hideNativeCursor,m=void 0===f||f,v=i(),p=t.useState(["default"]),h=p[0],g=p[1],y=t.useRef(Date.now()),x=t.useRef(null),b=function(){g(["default"])};t.useEffect((function(){var e=function(e){y.current=Date.now(),x.current&&(clearTimeout(x.current),x.current=null);var t=document.elementFromPoint(e.clientX,e.clientY);t&&(t.hasAttribute("data-cursor-target")||t.closest("[data-cursor-target]"))||"default"===h[h.length-1]||(x.current=setTimeout((function(){var t=document.elementFromPoint(e.clientX,e.clientY);(!t||!t.hasAttribute("data-cursor-target")&&!t.closest("[data-cursor-target]"))&&b()}),0))};return document.addEventListener("mousemove",e,{passive:!0}),function(){document.removeEventListener("mousemove",e),x.current&&clearTimeout(x.current)}}),[h]);var C=h[h.length-1],E=null!==(s=d[C])&&void 0!==s?s:d.default,S=n(n({},E),{variant:C});return t.useEffect((function(){if(m){var e=document.createElement("style");return e.textContent='\n        body, a, button, [role="button"], * {\n          cursor: none !important;\n        }\n      ',document.head.appendChild(e),function(){document.head.removeChild(e)}}}),[m]),e.jsx(a.Provider,{value:{cursorState:S,setCursorVariant:function(e,t){void 0===t&&(t="push"),x.current&&(clearTimeout(x.current),x.current=null),"reset"===t?g(["default"]):"push"===t?function(e){g((function(t){return o(o([],t,!0),[e],!1)}))}(e):g((function(e){var t=o([],e,!0);return t.pop(),t.length?t:["default"]}))},resetCursorToDefault:b,config:d,mousePosition:v},children:c})},exports.CursorTarget=function(t){var r=t.children,o=t.variant,i=t.onEnter,u=t.onLeave,a=c({variant:o,onEnter:i,onLeave:u});return e.jsx("div",n({},a,{"data-cursor-variant":o,"data-cursor-target":!0,children:r}))},exports.useCursor=c,exports.useMousePosition=i;
//# sourceMappingURL=index.js.map
